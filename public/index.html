<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TAKA ALLIANCE — Best World Gaming since 2022</title>
<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' blob: data:; script-src * 'unsafe-inline' 'unsafe-eval' blob: data:; frame-src * blob: data:;">

<style>
  :root {
    --gold: #ffd700;
    --gold-soft: #ffde6b;
  }
  * { box-sizing: border-box; }
  html, body { height: 100%; margin: 0; overflow: hidden; background: #000; color: var(--gold); font-family: 'Poppins', sans-serif; }
  canvas#goldRain { position: fixed; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; filter: drop-shadow(0 0 6px rgba(255,215,0,.65)); }
  header { text-align: center; padding: 24px 16px 8px; position: relative; z-index: 5; }
  header h1 { margin: 0; color: var(--gold-soft); text-shadow: 0 0 18px rgba(255,215,0,.55); }
  header p { margin: 6px 0 0; color: #d8bf66; opacity: .85; }
  .nav { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; z-index: 5; padding: 14px 10px; }
  .btn { background: rgba(255,215,0,.10); border: 1px solid rgba(255,215,0,.45); color: var(--gold-soft); padding: 10px 14px; border-radius: 12px; cursor: pointer; transition: .2s; }
  .btn:hover { background: rgba(255,215,0,.25); }
  .panel { position: relative; z-index: 4; margin: 10px auto 22px; width: min(1200px,96vw); background: rgba(14,13,10,.96); border: 1px solid rgba(255,215,0,.2); border-radius: 18px; box-shadow: 0 0 60px rgba(255,215,0,.2); padding: 18px; }
  #viewer { width: 100%; height: 72vh; border: 1px solid rgba(255,215,0,.28); border-radius: 14px; background: rgba(12,11,9,.98); box-shadow: inset 0 0 24px rgba(0,0,0,.55); }
  #loginOverlay { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,.75); z-index: 9999; }
  #loginCard { width: min(420px,90vw); background: #14100a; border: 1px solid rgba(255,215,0,.25); border-radius: 16px; padding: 22px; box-shadow: 0 0 32px rgba(255,215,0,.25); color: #ffe8a6; text-align: center; }
  #loginCard input { width: 100%; padding: 10px; margin: 6px 0; border-radius: 8px; border: 1px solid #3b2a10; background: #0e0c05; color: #fff; }
  #loginCard .btn { width: 100%; margin-top: 10px; }
  #loginStatus { color: #ffb4b4; font-size: .9rem; min-height: 18px; margin-top: 5px; }
  footer { text-align: center; color: #d8bf66; position: fixed; bottom: 8px; width: 100%; font-size: .9rem; }
</style>
</head>
<body class="locked">

<canvas id="goldRain"></canvas>
<header>
  <h1>TAKA ALLIANCE</h1>
  <p>Best World Gaming since 2022</p>
</header>

<div class="nav">
  <button class="btn" onclick="loadEncrypted('linkedin')">LinkedIn</button>
  <button class="btn" onclick="loadEncrypted('instagram')">Instagram</button>
  <button class="btn" onclick="loadEncrypted('tiktok')">TikTok</button>
  <button class="btn" onclick="loadEncrypted('youtube')">YouTube</button>
  <button class="btn" onclick="loadEncrypted('threads')">Threads</button>
  <button class="btn" onclick="loadEncrypted('reddit')">Reddit</button>
  <button class="btn" onclick="loadEncrypted('medium')">Medium</button>
  <button class="btn" onclick="loadEncrypted('x')">X (Twitter)</button>
</div>

<div class="panel">
  <iframe id="viewer" allow="fullscreen; clipboard-read; clipboard-write; autoplay; encrypted-media" referrerpolicy="no-referrer"></iframe>
</div>

<footer>© 2025 TAKA ALLIANCE — Best World Gaming since 2022</footer>

<div id="loginOverlay">
  <div id="loginCard">
    <h2>Secure Login</h2>
    <p>Masukkan username dan password:</p>
    <input id="user" placeholder="Username">
    <input id="pass" type="password" placeholder="Password">
    <div id="loginStatus"></div>
    <button class="btn" id="loginBtn">Login</button>
  </div>
</div>

<script>
// Anti-inspect
document.addEventListener('contextmenu', e => e.preventDefault());
document.onkeydown = e => {
  if (e.keyCode == 123) return false;
  if (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key.toUpperCase())) return false;
  if (e.ctrlKey && e.key.toUpperCase() === 'U') return false;
};

// Gold rain effect
const c = document.getElementById('goldRain'), ctx = c.getContext('2d');
let w, h, p = [];
function resize(){ w=c.width=innerWidth; h=c.height=innerHeight; }
function reset(){ p=[]; for(let i=0;i<140;i++) p.push({x:Math.random()*w,y:Math.random()*h,s:Math.random()*2+0.5,v:0.4+Math.random()}); }
function draw(){ ctx.clearRect(0,0,w,h); ctx.fillStyle='#ffd700'; p.forEach(r=>{ctx.beginPath();ctx.arc(r.x,r.y,r.s,0,Math.PI*2);ctx.fill();r.y+=r.v;if(r.y>h){r.y=-5;r.x=Math.random()*w;}}); requestAnimationFrame(draw); }
addEventListener('resize', ()=>{resize();reset();}); resize(); reset(); draw();

// Login
const USER='martinganteng', PASS='martinterkece', EXP=30*60*1000;
const overlay=document.getElementById('loginOverlay'), status=document.getElementById('loginStatus');
function login(){
  const u=document.getElementById('user').value.trim(), p=document.getElementById('pass').value.trim();
  if(u===USER && p===PASS){ localStorage.setItem('session',Date.now()+EXP); overlay.style.display='none'; }
  else{ status.textContent='❌ Username atau password salah'; setTimeout(()=>status.textContent='',2000); }
}
document.getElementById('loginBtn').onclick=login;
document.getElementById('pass').addEventListener('keydown',e=>{if(e.key==='Enter')login();});
if(localStorage.getItem('session') && Date.now()<localStorage.getItem('session')) overlay.style.display='none';

// AES decrypt
function b64ToBytes(b64){const bin=atob(b64.trim());const len=bin.length;const bytes=new Uint8Array(len);for(let i=0;i<len;i++)bytes[i]=bin.charCodeAt(i);return bytes;}
async function importKey(pw,salt){const enc=new TextEncoder();const mat=await crypto.subtle.importKey('raw',enc.encode(pw),'PBKDF2',false,['deriveKey']);return crypto.subtle.deriveKey({name:'PBKDF2',salt,iterations:120000,hash:'SHA-256'},mat,{name:'AES-GCM',length:256},false,['decrypt']);}
async function decryptB64(b64){const buf=b64ToBytes(b64);const salt=buf.slice(0,16),iv=buf.slice(16,28),data=buf.slice(28,buf.length-16),tag=buf.slice(buf.length-16);const full=new Uint8Array(data.length+tag.length);full.set(data,0);full.set(tag,data.length);const key=await importKey('TAKAALLIANCE_2025',salt);const plain=await crypto.subtle.decrypt({name:'AES-GCM',iv},key,full);return new TextDecoder().decode(new Uint8Array(plain));}

// Load planner
async function loadEncrypted(name){
  const paths=[`/assets/planners_encrypted/${name}.enc`,`/public/assets/planners_encrypted/${name}.enc`];
  let b64=null;
  for(const u of paths){try{const r=await fetch(u);if(r.ok){b64=await r.text();break;}}catch(e){}}
  if(!b64){alert('❌ File tidak ditemukan');return;}
  try{
    const html=await decryptB64(b64);
    const blob=new Blob([html],{type:'text/html'});
    const url=URL.createObjectURL(blob);
    const frame=document.getElementById('viewer');
    frame.removeAttribute('sandbox');
    frame.setAttribute('allow','fullscreen; clipboard-read; clipboard-write; autoplay; encrypted-media');
    frame.src=url;
  }catch(e){alert('❌ Gagal mendekripsi file');}
}
</script>
</body>
</html>
